<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Nuevo Ticket</title>
    <link rel="shortcut icon" href="/assets/img/favicon_procly.ico" type="image/x-icon" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
    <link rel="stylesheet" href="../../css/style.css" />
    <link rel="stylesheet" href="../../css/nuevo_ticket.css">
  </head>

  <body>
    <div id="navbar-placeholder"></div>
    
    <main class="nuevo-ticket-container">

      <!-- PROGRESS BAR + BOTÓN VOLVER -->
      <div class="progress-bar-container">
        <div class="progress-bar-outer">
          <div class="progress-bar-inner" id="progressBar"></div>
        </div>
        <div class="progress-bar-btn-wrapper">
          <button type="button" class="progress-bar-btn hidden" id="progressBarBtn">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="#000000" viewBox="0 0 256 256" class="chevron-icon">
              <path d="M232,200a8,8,0,0,1-16,0,88.1,88.1,0,0,0-88-88H51.31l34.35,34.34a8,8,0,0,1-11.32,11.32l-48-48a8,8,0,0,1,0-11.32l48-48A8,8,0,0,1,85.66,61.66L51.31,96H128A104.11,104.11,0,0,1,232,200Z"></path>
            </svg>
          </button>
        </div>
      </div>

      <!-- CONTENEDOR MULTISTEP -->
      <form class="formulario-ticket" id="multiStepForm">
          <!-- STEP 1: Selección de categoría -->
        <section class="form-step" id="step-1">
          <div class="categoria-grid">

            <div class="categoria-card" data-categoria="IT">
              <div class="admin-card-icon-circle">
                <img src="/assets/icons/cpu.svg" alt="IT" class="admin-card-icon" />
              </div>
              <h3>IT</h3>
              <p>Equipos, periféricos y soporte técnico.</p>
            </div>

            <div class="categoria-card" data-categoria="Software">
              <div class="admin-card-icon-circle">
                <img src="/assets/icons/code.svg" alt="Software" class="admin-card-icon" />
              </div>
              <h3>Software</h3>
              <p>Licencias, plataformas, suscripciones.</p>
            </div>

            <div class="categoria-card" data-categoria="Merchandising">
              <div class="admin-card-icon-circle">
                <img src="/assets/icons/t-shirt.svg" alt="Merchandising" class="admin-card-icon" />
              </div>
              <h3>Merchandising</h3>
              <p>Material promocional, branding, regalos.</p>
            </div>

            <div class="categoria-card" data-categoria="Supplies">
              <div class="admin-card-icon-circle">
                <img src="/assets/icons/package.svg" alt="Supplies" class="admin-card-icon" />
              </div>
              <h3>Supplies</h3>
              <p>Insumos, útiles de oficina, papel, toner.</p>
            </div>

            <div class="categoria-card" data-categoria="Eventos">
              <div class="admin-card-icon-circle">
                <img src="/assets/icons/calendar.svg" alt="Eventos" class="admin-card-icon" />
              </div>
              <h3>Eventos</h3>
              <p>Logística, alquiler de espacios y equipos.</p>
            </div>

            <div class="categoria-card" data-categoria="Catering">
              <div class="admin-card-icon-circle">
                <img src="/assets/icons/coffee.svg" alt="Catering" class="admin-card-icon" />
              </div>
              <h3>Catering</h3>
              <p>Servicios de comida para oficinas o eventos.</p>
            </div>

            <div class="categoria-card" data-categoria="EPP">
              <div class="admin-card-icon-circle">
                <img src="/assets/icons/hard-hat.svg" alt="EPP" class="admin-card-icon" />
              </div>
              <h3>EPP</h3>
              <p>Elementos de protección personal y seguridad.</p>
            </div>

            <div class="categoria-card" data-categoria="Otros">
              <div class="admin-card-icon-circle">
                <img src="/assets/icons/squares-four.svg" alt="Otros" class="admin-card-icon" />
              </div>
              <h3>Otros</h3>
              <p>Categoría general para pedidos especiales.</p>
            </div>

          </div>
        </section>


        <!-- STEP 2: Descripción y adjunto -->
        <section class="form-step" id="step-2" style="display:none">
          <div class="form-group">
            <input type="text" name="nombre" placeholder="Asigná un nombre al ticket" required>
            <textarea type="text" name="descripcion" rows="4" placeholder="Ingresa una breve descripción de lo que necesitas comprar" required></textarea>
            <div class="custom-file-upload">
              <label for="adjunto">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="#4B5563" viewBox="0 0 256 256" style="vertical-align: middle; margin-right: 8px;">
                  <path d="M209.66,122.34a8,8,0,0,1,0,11.32l-82.05,82a56,56,0,0,1-79.2-79.21L147.67,35.73a40,40,0,1,1,56.61,56.55L105,193A24,24,0,1,1,71,159L154.3,74.38A8,8,0,1,1,165.7,85.6L82.39,170.31a8,8,0,1,0,11.27,11.36L192.93,81A24,24,0,1,0,159,47L59.76,147.68a40,40,0,1,0,56.53,56.62l82.06-82A8,8,0,0,1,209.66,122.34Z"></path>
                </svg>
                Adjuntar archivo
              </label>
              <input type="file" id="adjunto" name="adjunto">
            </div>
          </div>
          
          <div class="button-group">
            <button type="button" class="next-btn">Siguiente</button>
          </div>
        </section>

        <!-- STEP 3: Presupuesto -->
        <section class="form-step" id="step-3" style="display:none">
          <h2>¿Tenés un límite de plata para gastar?</h2>
          <div class="presupuesto-opciones">
            <label class="opcion-card">
              <input type="radio" name="limite" value="si" />
              <span>Sí</span>
            </label>
            <label class="opcion-card">
              <input type="radio" name="limite" value="no" />
              <span>No</span>
            </label>
          </div>
          
            <div class="form-group"id="presupuestoInputGroup" style="display: none;">
              <div class="input-with-unit">
                <input type="number" name="presupuesto" placeholder="Indica tu Presupuesto" />
                <span class="unidad">ARS</span>
              </div>
            </div>
          <div class="button-group">
            <button type="button" class="next-btn">Siguiente</button>
          </div>
        </section>

        <!-- STEP 4: Datos de entrega -->
        <section class="form-step" id="step-4" style="display:none">
          <div class="form-group">
            <select name="direccion_entrega" id="direccion_entrega" placeholder="Seleccioná la Dirección de Entrega" required>
              <option value="" disabled selected>Seleccioná una dirección</option>
            </select>                        
            <input type="text" id="fecha_entrega" name="fecha_entrega" placeholder="Seleccioná la Fecha de Entrega" required>
          </div>
          <div class="button-group">
            <button type="submit" class="submit-btn">Crear Ticket</button>
          </div>
        </section>

        <!-- STEP 5: Confirmación -->
        <section class="form-step" id="step-5" style="display:none">
          <div class="success-content">
            <svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" fill="#3E8914" class="bi bi-check-circle-fill" viewBox="0 0 16 16">
                <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0m-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"/>
            </svg>
            <h2>¡Tu ticket fue creado con éxito!</h2>
            <h1 class="h1-flex">
                <svg xmlns="http://www.w3.org/2000/svg" width="26" height="26" fill="#090B0A" class="bi bi-qr-code-scan" viewBox="0 0 16 16">
                    <path d="M0 .5A.5.5 0 0 1 .5 0h3a.5.5 0 0 1 0 1H1v2.5a.5.5 0 0 1-1 0zm12 0a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v3a.5.5 0 0 1-1 0V1h-2.5a.5.5 0 0 1-.5-.5M.5 12a.5.5 0 0 1 .5.5V15h2.5a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5v-3a.5.5 0 0 1 .5-.5m15 0a.5.5 0 0 1 .5.5v3a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1 0-1H15v-2.5a.5.5 0 0 1 .5-.5M4 4h1v1H4z"/>
                    <path d="M7 2H2v5h5zM3 3h3v3H3zm2 8H4v1h1z"/>
                    <path d="M7 9H2v5h5zm-4 1h3v3H3zm8-6h1v1h-1z"/>
                    <path d="M9 2h5v5H9zm1 1v3h3V3zM8 8v2h1v1H8v1h2v-2h1v2h1v-1h2v-1h-3V8zm2 2H9V9h1zm4 2h-1v1h-2v1h3zm-4 2v-1H8v1z"/>
                    <path d="M12 9h2V8h-2z"/>
                </svg>
                ID TK001
            </h1>
            <a href="mis_tickets.html" class="submit-btn">Ver mis tickets</a>
          </div>
        </section>

        
      </form>

    </main>
    <a href="https://wa.me/34643615319" class="whatsapp-float" target="_blank" aria-label="Chatear por WhatsApp">
      <img src="/assets/img/whatsapp2.svg" alt="WhatsApp" />
    </a>

    <script type="module" src="../../js/nuevo_ticket.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
    <script src="https://cdn.jsdelivr.net/npm/flatpickr/dist/l10n/es.js"></script>

  </body>
</html>
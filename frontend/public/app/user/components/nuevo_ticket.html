<main class="nuevo-ticket-container">

  <!-- PROGRESS BAR + BOTÓN VOLVER -->
  <div class="progress-bar-container" id="progressBarContainer">
    <div class="progress-bar-outer">
      <div class="progress-bar-inner" id="progressBar"></div>
    </div>
    <div class="progress-bar-btn-wrapper">
      <button type="button" class="progress-bar-btn hidden" id="progressBarBtn">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="#000000" viewBox="0 0 256 256" class="chevron-icon">
          <path d="M232,200a8,8,0,0,1-16,0,88.1,88.1,0,0,0-88-88H51.31l34.35,34.34a8,8,0,0,1-11.32,11.32l-48-48a8,8,0,0,1,0-11.32l48-48A8,8,0,0,1,85.66,61.66L51.31,96H128A104.11,104.11,0,0,1,232,200Z"></path>
        </svg>
      </button>
    </div>
  </div>

  <!-- CONTENEDOR MULTISTEP -->
  <form class="formulario-ticket" id="multiStepForm">
      <!-- STEP 1: Selección de categoría -->
    <section class="form-step" id="step-1">
      <div class="categoria-grid">
        <div class="categoria-card" data-categoria="Tecnologia">
          <span class="info-icon" data-info="Equipos, periféricos y soporte técnico.">
            <svg width="18" height="18" fill="#508991" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10" stroke="#508991" stroke-width="2" fill="none"/><text x="12" y="16" text-anchor="middle" font-size="12" fill="#508991">i</text></svg>
          </span>
          <div class="admin-card-icon-circle">
            <img src="/assets/icons/cpu.svg" alt="Tecnología" class="admin-card-icon" />
          </div>
          <h3>Tecnología</h3>
        </div>
        <div class="categoria-card" data-categoria="Software">
          <span class="info-icon" data-info="Licencias, plataformas, suscripciones."></span>
          <div class="admin-card-icon-circle">
            <img src="/assets/icons/code.svg" alt="Software" class="admin-card-icon" />
          </div>
          <h3>Software</h3>
        </div>
        <div class="categoria-card" data-categoria="Merchandising">
          <div class="admin-card-icon-circle">
            <img src="/assets/icons/t-shirt.svg" alt="Merchandising" class="admin-card-icon" />
          </div>
          <h3>Merchandising</h3>
        </div>
        <div class="categoria-card" data-categoria="Supplies">
          <div class="admin-card-icon-circle">
            <img src="/assets/icons/package.svg" alt="Supplies" class="admin-card-icon" />
          </div>
          <h3>Supplies</h3>
        </div>
        <div class="categoria-card" data-categoria="Eventos">
          <div class="admin-card-icon-circle">
            <img src="/assets/icons/calendar.svg" alt="Eventos" class="admin-card-icon" />
          </div>
          <h3>Eventos</h3>
        </div>
        <div class="categoria-card" data-categoria="Catering">
          <div class="admin-card-icon-circle">
            <img src="/assets/icons/coffee.svg" alt="Catering" class="admin-card-icon" />
          </div>
          <h3>Catering</h3>
        </div>
        <div class="categoria-card" data-categoria="EPP">
          <div class="admin-card-icon-circle">
            <img src="/assets/icons/hard-hat.svg" alt="EPP" class="admin-card-icon" />
          </div>
          <h3>EPP</h3>
        </div>
        <div class="categoria-card" data-categoria="Otros">
          <div class="admin-card-icon-circle">
            <img src="/assets/icons/squares-four.svg" alt="Otros" class="admin-card-icon" />
          </div>
          <h3>Otros</h3>
        </div>
        <div class="categoria-card" data-categoria="Supermercado">
          <span class="info-icon" data-info="Compras de supermercado, alimentos y bebidas."></span>
          <div class="admin-card-icon-circle">
            <img src="/assets/icons/package.svg" alt="Supermercado" class="admin-card-icon" />
          </div>
          <h3>Supermercado</h3>
        </div>
        <div class="categoria-card" data-categoria="Salud">
          <span class="info-icon" data-info="Productos y servicios de salud."></span>
          <div class="admin-card-icon-circle">
            <img src="/assets/icons/health.svg" alt="Salud" class="admin-card-icon" />
          </div>
          <h3>Salud</h3>
        </div>
        <div class="categoria-card" data-categoria="Libreria">
          <span class="info-icon" data-info="Artículos de librería y papelería."></span>
          <div class="admin-card-icon-circle">
            <img src="/assets/icons/book.svg" alt="Librería" class="admin-card-icon" />
          </div>
          <h3>Librería</h3>
        </div>
        <div class="categoria-card" data-categoria="Limpieza">
          <span class="info-icon" data-info="Productos y servicios de limpieza."></span>
          <div class="admin-card-icon-circle">
            <img src="/assets/icons/cleaning.svg" alt="Limpieza" class="admin-card-icon" />
          </div>
          <h3>Limpieza</h3>
        </div>
      </div>
    </section>

    <!-- STEP 2: Descripción y adjunto -->
    <section class="form-step" id="step-2" style="display:none">
      <div class="form-group">
        <input type="text" name="nombre" placeholder="Asigná un nombre al ticket" required>
        <textarea type="text" name="descripcion" rows="4" placeholder="Ingresa una breve descripción de lo que necesitas comprar" required></textarea>
        <div class="custom-file-upload">
          <label for="adjunto">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="#4B5563" viewBox="0 0 256 256" style="vertical-align: middle; margin-right: 8px;">
              <path d="M209.66,122.34a8,8,0,0,1,0,11.32l-82.05,82a56,56,0,0,1-79.2-79.21L147.67,35.73a40,40,0,1,1,56.61,56.55L105,193A24,24,0,1,1,71,159L154.3,74.38A8,8,0,1,1,165.7,85.6L82.39,170.31a8,8,0,1,0,11.27,11.36L192.93,81A24,24,0,1,0,159,47L59.76,147.68a40,40,0,1,0,56.53,56.62l82.06-82A8,8,0,0,1,209.66,122.34Z"></path>
            </svg>
            Adjuntar archivo
          </label>
          <input type="file" id="adjunto" name="adjunto">
        </div>
      </div>
      <div class="button-group">
        <button type="button" class="btn2">Siguiente</button>
      </div>
    </section>

    <!-- STEP 3: Presupuesto -->
    <section class="form-step" id="step-3" style="display:none">
      <h2>¿Querés establecer un presupuesto límite?</h2>
      <div class="presupuesto-opciones">
        <label class="opcion-card">
          <input type="radio" name="limite" value="si" />
          <span>Sí</span>
        </label>
        <label class="opcion-card">
          <input type="radio" name="limite" value="no" />
          <span>No</span>
        </label>
      </div>
      
        <div class="form-group"id="presupuestoInputGroup" style="display: none;">
          <div class="input-with-unit">
            <input type="text" name="presupuesto" placeholder="Ingresá tu presupuesto máximo (opcional)" />

            <span class="unidad">ARS</span>
          </div>
        </div>
      <div class="button-group">
        <button type="button" class="btn2">Siguiente</button>
      </div>
    </section>

    <!-- STEP 4: Datos de entrega -->
    <section class="form-step" id="step-4" style="display:none">
      <div class="form-group">
        <select name="direccion_entrega" id="direccion_entrega" required>
          <option value="" disabled selected hidden>Seleccioná la Dirección de Entrega</option>
        </select>                        
        <input type="text" id="fecha_entrega" class="input-fecha" name="fecha_entrega" placeholder="Seleccioná la Fecha de Entrega" required>
      </div>
      <div class="button-group">
        <button type="submit" class="btn2">Crear Ticket</button>
      </div>
    </section>

    <!-- STEP 5: Confirmación -->
    <section class="form-step" id="step-5" style="display:none">
      <div class="success-content">
        <div id="success-animation" style="width: 220px; height: 220px; margin: auto;"></div>
        <h2>¡Tu ticket fue creado con éxito!</h2>
        <div class="ticket-confirmacion-flex">
          <span id="codigoTicketTexto" class="ticket-code">ABC123</span>
          <span id="copiarIcono" class="copiar-icono" onclick="copiarCodigoTicket()" style="cursor:pointer;">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="#000000" viewBox="0 0 256 256">
              <path d="M216,32H88a8,8,0,0,0-8,8V80H40a8,8,0,0,0-8,8V216a8,8,0,0,0,8,8H168a8,8,0,0,0,8-8V176h40a8,8,0,0,0,8-8V40A8,8,0,0,0,216,32ZM160,208H48V96H160Zm48-48H176V88a8,8,0,0,0-8-8H96V48H208Z"></path>
            </svg>
          </span>
          <button class="btn2" id="verMisTicketsBtn">Ver mis tickets</button>
        </div>
      </div>
    </section>

    
  </form>

</main>
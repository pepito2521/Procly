<main class="nuevo-ticket-container">

  <!-- PROGRESS BAR + BOTÓN VOLVER -->
  <div class="progress-bar-container" id="progressBarContainer">
    <div class="progress-bar-outer">
      <div class="progress-bar-inner" id="progressBar"></div>
    </div>
    <div class="progress-bar-btn-wrapper">
      <button type="button" class="progress-bar-btn hidden" id="progressBarBtn">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="#000000" viewBox="0 0 256 256" class="chevron-icon">
          <path d="M232,200a8,8,0,0,1-16,0,88.1,88.1,0,0,0-88-88H51.31l34.35,34.34a8,8,0,0,1-11.32,11.32l-48-48a8,8,0,0,1,0-11.32l48-48A8,8,0,0,1,85.66,61.66L51.31,96H128A104.11,104.11,0,0,1,232,200Z"></path>
        </svg>
      </button>
    </div>
  </div>

  <!-- CONTENEDOR MULTISTEP -->
  <form class="formulario-ticket" id="multiStepForm">
      <!-- STEP 1: Selección de categoría -->
    <section class="form-step" id="step-1">
      <div class="categoria-grid">
        <div class="categoria-card" data-categoria="Tecnologia">
          <span class="info-icon" data-info="Equipos, periféricos y soporte técnico.">
            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="#000000" viewBox="0 0 256 256">
              <path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,192a88,88,0,1,1,88-88A88.1,88.1,0,0,1,128,216Zm16-40a8,8,0,0,1-8,8,16,16,0,0,1-16-16V128a8,8,0,0,1,0-16,16,16,0,0,1,16,16v40A8,8,0,0,1,144,176ZM112,84a12,12,0,1,1,12,12A12,12,0,0,1,112,84Z"></path>
            </svg>
          </span>
          <div class="admin-card-icon-circle">
            <img src="/assets/icons/cpu.svg" alt="Tecnología" class="admin-card-icon" />
          </div>
          <h3>Tecnología</h3>
        </div>
        <div class="categoria-card" data-categoria="Software">
          <span class="info-icon" data-info="Licencias, plataformas, suscripciones.">
            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="#000000" viewBox="0 0 256 256">
              <path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,192a88,88,0,1,1,88-88A88.1,88.1,0,0,1,128,216Zm16-40a8,8,0,0,1-8,8,16,16,0,0,1-16-16V128a8,8,0,0,1,0-16,16,16,0,0,1,16,16v40A8,8,0,0,1,144,176ZM112,84a12,12,0,1,1,12,12A12,12,0,0,1,112,84Z"></path>
            </svg>
          </span>
          <div class="admin-card-icon-circle">
            <img src="/assets/icons/code.svg" alt="Software" class="admin-card-icon" />
          </div>
          <h3>Software</h3>
        </div>
        <div class="categoria-card" data-categoria="Merchandising">
          <span class="info-icon" data-info="Material promocional, branding, regalos.">
            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="#000000" viewBox="0 0 256 256">
              <path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,192a88,88,0,1,1,88-88A88.1,88.1,0,0,1,128,216Zm16-40a8,8,0,0,1-8,8,16,16,0,0,1-16-16V128a8,8,0,0,1,0-16,16,16,0,0,1,16,16v40A8,8,0,0,1,144,176ZM112,84a12,12,0,1,1,12,12A12,12,0,0,1,112,84Z"></path>
            </svg>
          </span>
          <div class="admin-card-icon-circle">
            <img src="/assets/icons/gift.svg" alt="Merchandising" class="admin-card-icon" />
          </div>
          <h3>Merchandising</h3>
        </div>
        <div class="categoria-card" data-categoria="Libreria">
          <span class="info-icon" data-info="Artículos de librería y papelería.">
            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="#000000" viewBox="0 0 256 256">
              <path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,192a88,88,0,1,1,88-88A88.1,88.1,0,0,1,128,216Zm16-40a8,8,0,0,1-8,8,16,16,0,0,1-16-16V128a8,8,0,0,1,0-16,16,16,0,0,1,16,16v40A8,8,0,0,1,144,176ZM112,84a12,12,0,1,1,12,12A12,12,0,0,1,112,84Z"></path>
            </svg>
          </span>
          <div class="admin-card-icon-circle">
            <img src="/assets/icons/pencil-ruler.svg" alt="Librería" class="admin-card-icon" />
          </div>
          <h3>Librería</h3>
        </div>
        <div class="categoria-card" data-categoria="Eventos">
          <span class="info-icon" data-info="Logística, alquiler de espacios y equipos.">
            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="#000000" viewBox="0 0 256 256">
              <path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,192a88,88,0,1,1,88-88A88.1,88.1,0,0,1,128,216Zm16-40a8,8,0,0,1-8,8,16,16,0,0,1-16-16V128a8,8,0,0,1,0-16,16,16,0,0,1,16,16v40A8,8,0,0,1,144,176ZM112,84a12,12,0,1,1,12,12A12,12,0,0,1,112,84Z"></path>
            </svg>
          </span>
          <div class="admin-card-icon-circle">
            <img src="/assets/icons/calendar.svg" alt="Eventos" class="admin-card-icon" />
          </div>
          <h3>Eventos</h3>
        </div>
        <div class="categoria-card" data-categoria="Catering">
          <span class="info-icon" data-info="Servicios de comida para oficinas o eventos.">
            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="#000000" viewBox="0 0 256 256">
              <path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,192a88,88,0,1,1,88-88A88.1,88.1,0,0,1,128,216Zm16-40a8,8,0,0,1-8,8,16,16,0,0,1-16-16V128a8,8,0,0,1,0-16,16,16,0,0,1,16,16v40A8,8,0,0,1,144,176ZM112,84a12,12,0,1,1,12,12A12,12,0,0,1,112,84Z"></path>
            </svg>
          </span>
          <div class="admin-card-icon-circle">
            <img src="/assets/icons/coffee.svg" alt="Catering" class="admin-card-icon" />
          </div>
          <h3>Catering</h3>
        </div>
        <div class="categoria-card" data-categoria="EPP">
          <span class="info-icon" data-info="Elementos de protección personal y seguridad.">
            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="#000000" viewBox="0 0 256 256">
              <path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,192a88,88,0,1,1,88-88A88.1,88.1,0,0,1,128,216Zm16-40a8,8,0,0,1-8,8,16,16,0,0,1-16-16V128a8,8,0,0,1,0-16,16,16,0,0,1,16,16v40A8,8,0,0,1,144,176ZM112,84a12,12,0,1,1,12,12A12,12,0,0,1,112,84Z"></path>
            </svg>
          </span>
          <div class="admin-card-icon-circle">
            <img src="/assets/icons/hard-hat.svg" alt="EPP" class="admin-card-icon" />
          </div>
          <h3>EPP</h3>
        </div>
        <div class="categoria-card" data-categoria="Limpieza">
          <span class="info-icon" data-info="Productos y servicios de limpieza.">
            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="#000000" viewBox="0 0 256 256">
              <path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,192a88,88,0,1,1,88-88A88.1,88.1,0,0,1,128,216Zm16-40a8,8,0,0,1-8,8,16,16,0,0,1-16-16V128a8,8,0,0,1,0-16,16,16,0,0,1,16,16v40A8,8,0,0,1,144,176ZM112,84a12,12,0,1,1,12,12A12,12,0,0,1,112,84Z"></path>
            </svg>
          </span>
          <div class="admin-card-icon-circle">
            <img src="/assets/icons/spray-bottle.svg" alt="Limpieza" class="admin-card-icon" />
          </div>
          <h3>Limpieza</h3>
        </div>
        <div class="categoria-card" data-categoria="Supermercado">
          <span class="info-icon" data-info="Compras de supermercado, alimentos y bebidas.">
            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="#000000" viewBox="0 0 256 256">
              <path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,192a88,88,0,1,1,88-88A88.1,88.1,0,0,1,128,216Zm16-40a8,8,0,0,1-8,8,16,16,0,0,1-16-16V128a8,8,0,0,1,0-16,16,16,0,0,1,16,16v40A8,8,0,0,1,144,176ZM112,84a12,12,0,1,1,12,12A12,12,0,0,1,112,84Z"></path>
            </svg>
          </span>
          <div class="admin-card-icon-circle">
            <img src="/assets/icons/shopping-cart.svg" alt="Supermercado" class="admin-card-icon" />
          </div>
          <h3>Supermercado</h3>
        </div>
        <div class="categoria-card" data-categoria="Salud">
          <span class="info-icon" data-info="Productos y servicios de salud.">
            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="#000000" viewBox="0 0 256 256">
              <path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,192a88,88,0,1,1,88-88A88.1,88.1,0,0,1,128,216Zm16-40a8,8,0,0,1-8,8,16,16,0,0,1-16-16V128a8,8,0,0,1,0-16,16,16,0,0,1,16,16v40A8,8,0,0,1,144,176ZM112,84a12,12,0,1,1,12,12A12,12,0,0,1,112,84Z"></path>
            </svg>
          </span>
          <div class="admin-card-icon-circle">
            <img src="/assets/icons/heartbeat.svg" alt="Salud" class="admin-card-icon" />
          </div>
          <h3>Salud</h3>
        </div>
        <div class="categoria-card" data-categoria="Supplies">
          <span class="info-icon" data-info="Insumos, útiles de oficina, papel, toner.">
            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="#000000" viewBox="0 0 256 256">
              <path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,192a88,88,0,1,1,88-88A88.1,88.1,0,0,1,128,216Zm16-40a8,8,0,0,1-8,8,16,16,0,0,1-16-16V128a8,8,0,0,1,0-16,16,16,0,0,1,16,16v40A8,8,0,0,1,144,176ZM112,84a12,12,0,1,1,12,12A12,12,0,0,1,112,84Z"></path>
            </svg>
          </span>
          <div class="admin-card-icon-circle">
            <img src="/assets/icons/package.svg" alt="Supplies" class="admin-card-icon" />
          </div>
          <h3>Supplies</h3>
        </div>
        <div class="categoria-card" data-categoria="Otros">
          <span class="info-icon" data-info="Categoría general para pedidos especiales.">
            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="#000000" viewBox="0 0 256 256">
              <path d="M128,24A104,104,0,1,0,232,128,104.11,104.11,0,0,0,128,24Zm0,192a88,88,0,1,1,88-88A88.1,88.1,0,0,1,128,216Zm16-40a8,8,0,0,1-8,8,16,16,0,0,1-16-16V128a8,8,0,0,1,0-16,16,16,0,0,1,16,16v40A8,8,0,0,1,144,176ZM112,84a12,12,0,1,1,12,12A12,12,0,0,1,112,84Z"></path>
            </svg>
          </span>
          <div class="admin-card-icon-circle">
            <img src="/assets/icons/squares-four.svg" alt="Otros" class="admin-card-icon" />
          </div>
          <h3>Otros</h3>
        </div>
      </div>
    </section>

    <!-- STEP 2: Descripción y adjunto -->
    <section class="form-step" id="step-2" style="display:none">
      <div class="form-group">
        <input type="text" name="nombre" placeholder="Asigná un nombre al ticket" required>
        <textarea type="text" name="descripcion" rows="4" placeholder="Ingresa una breve descripción de lo que necesitas comprar" required></textarea>
        <div class="custom-file-upload">
          <label for="adjunto">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="#4B5563" viewBox="0 0 256 256" style="vertical-align: middle; margin-right: 8px;">
              <path d="M209.66,122.34a8,8,0,0,1,0,11.32l-82.05,82a56,56,0,0,1-79.2-79.21L147.67,35.73a40,40,0,1,1,56.61,56.55L105,193A24,24,0,1,1,71,159L154.3,74.38A8,8,0,1,1,165.7,85.6L82.39,170.31a8,8,0,1,0,11.27,11.36L192.93,81A24,24,0,1,0,159,47L59.76,147.68a40,40,0,1,0,56.53,56.62l82.06-82A8,8,0,0,1,209.66,122.34Z"></path>
            </svg>
            Adjuntar archivo
          </label>
          <input type="file" id="adjunto" name="adjunto">
        </div>
      </div>
      <div class="button-group">
        <button type="button" class="btn2">Siguiente</button>
      </div>
    </section>

    <!-- STEP 3: Presupuesto -->
    <section class="form-step" id="step-3" style="display:none">
      <h2>¿Querés establecer un presupuesto límite?</h2>
      <div class="presupuesto-opciones">
        <label class="opcion-card">
          <input type="radio" name="limite" value="si" />
          <span>Sí</span>
        </label>
        <label class="opcion-card">
          <input type="radio" name="limite" value="no" />
          <span>No</span>
        </label>
      </div>
      
        <div class="form-group"id="presupuestoInputGroup" style="display: none;">
          <div class="input-with-unit">
            <input type="text" name="presupuesto" placeholder="Ingresá tu presupuesto máximo (opcional)" />

            <span class="unidad">ARS</span>
          </div>
        </div>
      <div class="button-group">
        <button type="button" class="btn2">Siguiente</button>
      </div>
    </section>

    <!-- STEP 4: Datos de entrega -->
    <section class="form-step" id="step-4" style="display:none">
      <div class="form-group">
        <select name="direccion_entrega" id="direccion_entrega" required>
          <option value="" disabled selected hidden>Seleccioná la Dirección de Entrega</option>
        </select>                        
        <input type="text" id="fecha_entrega" class="input-fecha" name="fecha_entrega" placeholder="Seleccioná la Fecha de Entrega" required>
      </div>
      <div class="button-group">
        <button type="submit" class="btn2">Crear Ticket</button>
      </div>
    </section>

    <!-- STEP 5: Confirmación -->
    <section class="form-step" id="step-5" style="display:none">
      <div class="success-content">
        <div id="success-animation" style="width: 240px; height: 240px; margin: 0 auto 1.5rem auto;"></div>
        <h2>¡Ticket creado con éxito!</h2>
        <p>Tu ticket fue registrado correctamente. Guarda el siguiente código para hacer seguimiento:</p>
        <div class="ticket-confirmacion-flex" style="display: flex; align-items: center; justify-content: center; gap: 1rem; margin: 1.5rem 0;">
          <span id="codigoTicketTexto" class="ticket-code" style="font-size: 1.5rem; font-weight: 600; letter-spacing: 1px;">ABC123</span>
          <span id="copiarIcono" class="copiar-btn" onclick="copiarCodigoTicket()" data-codigo="">
            <!-- Icono copiar -->
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="#508991" viewBox="0 0 256 256">
              <path d="M208,80H96V56a32,32,0,0,1,32-32h64a32,32,0,0,1,32,32V208a32,32,0,0,1-32,32H96a32,32,0,0,1-32-32V176H48a16,16,0,0,1-16-16V80A16,16,0,0,1,48,64H80V56A48,48,0,0,1,128,8h64A48,48,0,0,1,240,56V208A48,48,0,0,1,192,256H96A48,48,0,0,1,48,208V176H32A32,32,0,0,1,0,144V80A32,32,0,0,1,32,48H80V80H32A16,16,0,0,0,16,96v64a16,16,0,0,0,16,16H80v32A32,32,0,0,0,112,240h80a32,32,0,0,0,32-32V80A32,32,0,0,0,208,80Z"></path>
            </svg>
          </span>
        </div>
        <div style="margin-top: 2rem;">
          <button type="button" class="btn2 sm" id="verMisTicketsBtn">Ver mis tickets</button>
        </div>
      </div>
    </section>

    
  </form>

</main>